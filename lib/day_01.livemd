<!-- livebook:{"persist_outputs":true} -->

# Day 01

## Notes

* [Problem URL](https://adventofcode.com/2021/day/1)
* [Input URL](https://adventofcode.com/2021/day/1/input)

## Take and parse the input

<!-- livebook:{"livebook_object":"cell_input","name":"Problem Input","type":"textarea","value":"178\n205\n212\n210\n215\n220\n223\n224\n230\n232\n235\n225\n226\n227\n238\n248\n249\n251\n252\n261\n273\n283\n284\n286\n296\n297\n303\n317\n320\n333\n370\n339\n342\n345\n325\n323\n334\n325\n326\n327\n333\n329\n337\n340\n363\n353\n341\n344\n345\n364\n356\n357\n355\n357\n358\n360\n372\n373\n377\n379\n354\n349\n355\n356\n361\n363\n366\n371\n354\n356\n350\n360\n377\n369\n373\n376\n375\n376\n360\n362\n378\n381\n399\n405\n428\n430\n435\n458\n459\n465\n466\n488\n499\n509\n514\n524\n531\n552\n553\n557\n589\n611\n628\n633\n635\n639\n641\n643\n645\n647\n649\n651\n656\n652\n657\n655\n658\n664\n665\n671\n681\n693\n705\n708\n704\n700\n702\n703\n705\n706\n709\n721\n726\n724\n727\n734\n735\n738\n739\n759\n761\n763\n766\n769\n768\n779\n782\n786\n787\n809\n820\n821\n822\n823\n831\n835\n842\n843\n849\n851\n852\n856\n852\n856\n857\n859\n871\n875\n850\n865\n875\n895\n902\n903\n905\n910\n911\n922\n936\n937\n938\n939\n948\n955\n954\n955\n958\n965\n966\n972\n979\n975\n981\n982\n978\n979\n991\n1009\n1010\n1009\n988\n985\n989\n990\n999\n1012\n1013\n1015\n1018\n1021\n1038\n1036\n1051\n1059\n1076\n1077\n1081\n1082\n1111\n1115\n1114\n1127\n1129\n1153\n1156\n1157\n1163\n1164\n1168\n1174\n1180\n1187\n1188\n1203\n1207\n1182\n1183\n1180\n1181\n1182\n1180\n1190\n1189\n1186\n1187\n1191\n1207\n1231\n1246\n1235\n1240\n1242\n1244\n1241\n1245\n1248\n1251\n1252\n1260\n1270\n1273\n1274\n1270\n1285\n1281\n1285\n1306\n1305\n1304\n1313\n1318\n1352\n1371\n1380\n1379\n1380\n1382\n1390\n1394\n1395\n1408\n1406\n1407\n1413\n1425\n1446\n1447\n1448\n1450\n1473\n1482\n1490\n1488\n1479\n1484\n1502\n1507\n1508\n1509\n1511\n1512\n1517\n1520\n1532\n1536\n1538\n1537\n1538\n1539\n1571\n1574\n1542\n1548\n1549\n1550\n1551\n1549\n1551\n1563\n1565\n1558\n1559\n1589\n1590\n1591\n1592\n1593\n1595\n1573\n1582\n1608\n1619\n1625\n1627\n1638\n1666\n1665\n1685\n1687\n1690\n1700\n1707\n1714\n1720\n1729\n1765\n1767\n1768\n1752\n1749\n1764\n1765\n1774\n1775\n1777\n1778\n1787\n1788\n1789\n1793\n1794\n1795\n1800\n1802\n1808\n1809\n1803\n1804\n1815\n1816\n1823\n1822\n1828\n1830\n1835\n1837\n1846\n1863\n1865\n1869\n1872\n1873\n1876\n1893\n1894\n1901\n1903\n1904\n1900\n1911\n1913\n1914\n1916\n1923\n1946\n1949\n1951\n1964\n1965\n1967\n1978\n2001\n2004\n2016\n2021\n2023\n2026\n2027\n2029\n2027\n2028\n2031\n2041\n2033\n2041\n2042\n2034\n2040\n2043\n2045\n2058\n2056\n2061\n2054\n2064\n2063\n2068\n2069\n2073\n2076\n2077\n2075\n2077\n2066\n2067\n2071\n2072\n2073\n2077\n2081\n2082\n2090\n2086\n2118\n2122\n2145\n2151\n2176\n2177\n2179\n2189\n2205\n2218\n2223\n2248\n2249\n2250\n2254\n2247\n2264\n2265\n2271\n2272\n2290\n2292\n2326\n2328\n2327\n2328\n2335\n2338\n2339\n2347\n2348\n2349\n2356\n2353\n2362\n2363\n2367\n2369\n2377\n2384\n2395\n2397\n2408\n2409\n2410\n2409\n2411\n2407\n2369\n2372\n2376\n2378\n2377\n2382\n2383\n2384\n2388\n2390\n2395\n2393\n2425\n2418\n2423\n2446\n2452\n2464\n2469\n2473\n2474\n2472\n2471\n2473\n2475\n2476\n2477\n2479\n2494\n2500\n2501\n2502\n2503\n2534\n2542\n2541\n2542\n2560\n2563\n2570\n2582\n2577\n2581\n2579\n2578\n2586\n2598\n2599\n2602\n2606\n2616\n2618\n2620\n2622\n2592\n2595\n2596\n2629\n2624\n2626\n2634\n2635\n2654\n2655\n2658\n2630\n2650\n2661\n2662\n2663\n2665\n2686\n2687\n2690\n2685\n2696\n2697\n2704\n2707\n2709\n2710\n2711\n2708\n2712\n2714\n2717\n2721\n2719\n2724\n2729\n2730\n2761\n2770\n2772\n2773\n2791\n2802\n2803\n2804\n2798\n2800\n2803\n2799\n2796\n2801\n2804\n2805\n2814\n2817\n2801\n2806\n2807\n2811\n2829\n2832\n2820\n2821\n2858\n2860\n2863\n2885\n2889\n2891\n2892\n2902\n2913\n2916\n2917\n2918\n2919\n2918\n2927\n2928\n2932\n2934\n2951\n2953\n2954\n2978\n2981\n3004\n2999\n3018\n3017\n3018\n3019\n3020\n3018\n3030\n3040\n3042\n3046\n3072\n3087\n3102\n3141\n3142\n3163\n3166\n3179\n3190\n3191\n3194\n3197\n3203\n3220\n3224\n3232\n3236\n3255\n3257\n3261\n3279\n3278\n3279\n3284\n3310\n3330\n3332\n3334\n3335\n3365\n3380\n3381\n3386\n3373\n3378\n3398\n3418\n3422\n3425\n3427\n3435\n3442\n3446\n3447\n3446\n3448\n3444\n3445\n3447\n3448\n3449\n3453\n3466\n3467\n3476\n3479\n3482\n3483\n3486\n3500\n3499\n3501\n3492\n3490\n3491\n3493\n3499\n3501\n3505\n3490\n3499\n3500\n3513\n3514\n3535\n3550\n3548\n3549\n3546\n3547\n3553\n3554\n3574\n3575\n3582\n3583\n3582\n3585\n3587\n3600\n3601\n3605\n3610\n3609\n3617\n3598\n3599\n3601\n3602\n3585\n3598\n3615\n3617\n3623\n3628\n3631\n3633\n3636\n3634\n3635\n3630\n3617\n3650\n3652\n3655\n3660\n3669\n3685\n3686\n3674\n3684\n3685\n3686\n3694\n3693\n3694\n3699\n3708\n3709\n3722\n3720\n3724\n3745\n3740\n3744\n3762\n3761\n3783\n3784\n3785\n3786\n3781\n3792\n3797\n3812\n3814\n3813\n3788\n3796\n3795\n3802\n3805\n3815\n3816\n3817\n3818\n3819\n3822\n3829\n3833\n3836\n3847\n3850\n3851\n3852\n3850\n3851\n3870\n3871\n3873\n3871\n3874\n3879\n3888\n3894\n3900\n3904\n3907\n3909\n3912\n3913\n3921\n3894\n3896\n3897\n3898\n3909\n3914\n3915\n3913\n3941\n3945\n3946\n3947\n3948\n3954\n3955\n3980\n3983\n3985\n3986\n3993\n3988\n3992\n3997\n4002\n4014\n4022\n4039\n4044\n4043\n4040\n4042\n4053\n4055\n4066\n4049\n4070\n4073\n4081\n4084\n4085\n4094\n4107\n4098\n4107\n4121\n4140\n4143\n4144\n4145\n4156\n4157\n4174\n4177\n4163\n4138\n4143\n4132\n4118\n4119\n4120\n4134\n4137\n4134\n4168\n4186\n4190\n4192\n4202\n4206\n4214\n4216\n4217\n4213\n4217\n4216\n4238\n4237\n4245\n4251\n4255\n4261\n4276\n4278\n4282\n4287\n4290\n4283\n4277\n4287\n4290\n4291\n4292\n4299\n4302\n4325\n4326\n4344\n4339\n4341\n4343\n4346\n4345\n4346\n4348\n4349\n4350\n4365\n4364\n4365\n4367\n4369\n4373\n4377\n4375\n4374\n4400\n4407\n4409\n4410\n4413\n4395\n4400\n4401\n4404\n4413\n4408\n4403\n4405\n4412\n4417\n4449\n4469\n4486\n4492\n4507\n4513\n4516\n4517\n4531\n4540\n4551\n4561\n4566\n4568\n4570\n4571\n4564\n4572\n4573\n4575\n4576\n4605\n4612\n4602\n4603\n4608\n4610\n4617\n4618\n4620\n4621\n4622\n4626\n4639\n4640\n4661\n4660\n4658\n4665\n4664\n4685\n4686\n4691\n4694\n4679\n4684\n4708\n4709\n4704\n4721\n4725\n4727\n4730\n4731\n4733\n4741\n4757\n4759\n4779\n4786\n4812\n4818\n4820\n4836\n4838\n4839\n4840\n4844\n4845\n4851\n4852\n4858\n4854\n4860\n4887\n4853\n4857\n4867\n4881\n4883\n4868\n4869\n4881\n4862\n4858\n4860\n4861\n4862\n4867\n4872\n4876\n4892\n4893\n4894\n4895\n4897\n4915\n4924\n4927\n4929\n4937\n4938\n4940\n4943\n4950\n4957\n4985\n4984\n4989\n4978\n4983\n4984\n4985\n4978\n4981\n4983\n4986\n5012\n5013\n5014\n5029\n5031\n5033\n5034\n5032\n5033\n5035\n5037\n5047\n5049\n5045\n5048\n5053\n5055\n5057\n5071\n5072\n5070\n5098\n5091\n5086\n5072\n5074\n5076\n5077\n5078\n5077\n5078\n5082\n5085\n5107\n5135\n5140\n5142\n5143\n5146\n5127\n5130\n5133\n5144\n5148\n5150\n5151\n5158\n5161\n5165\n5166\n5172\n5179\n5180\n5181\n5179\n5181\n5211\n5212\n5217\n5215\n5216\n5214\n5234\n5236\n5239\n5240\n5253\n5263\n5276\n5293\n5305\n5308\n5313\n5319\n5324\n5325\n5328\n5335\n5337\n5365\n5352\n5350\n5352\n5354\n5355\n5369\n5375\n5382\n5387\n5386\n5393\n5399\n5403\n5404\n5406\n5418\n5423\n5433\n5434\n5435\n5436\n5437\n5438\n5457\n5454\n5459\n5460\n5461\n5463\n5478\n5490\n5503\n5512\n5510\n5517\n5522\n5525\n5537\n5553\n5563\n5553\n5557\n5563\n5565\n5573\n5605\n5579\n5580\n5581\n5593\n5596\n5621\n5612\n5616\n5621\n5625\n5633\n5637\n5647\n5649\n5661\n5666\n5657\n5661\n5664\n5667\n5679\n5698\n5699\n5698\n5706\n5710\n5712\n5716\n5692\n5707\n5709\n5710\n5711\n5712\n5713\n5716\n5730\n5731\n5732\n5733\n5736\n5735\n5737\n5738\n5740\n5741\n5742\n5741\n5748\n5751\n5759\n5761\n5766\n5769\n5781\n5800\n5801\n5811\n5813\n5814\n5813\n5814\n5821\n5822\n5821\n5825\n5844\n5846\n5858\n5868\n5875\n5886\n5889\n5890\n5896\n5902\n5905\n5926\n5925\n5923\n5897\n5898\n5924\n5926\n5943\n5945\n5956\n5969\n5980\n5989\n5998\n6027\n6028\n6038\n6039\n6024\n6026\n6041\n6058\n6059\n6063\n6064\n6068\n6075\n6081\n6078\n6059\n6060\n6088\n6099\n6104\n6103\n6104\n6099\n6100\n6117\n6113\n6120\n6121\n6126\n6157\n6171\n6172\n6177\n6178\n6172\n6173\n6174\n6179\n6181\n6191\n6192\n6197\n6210\n6209\n6204\n6205\n6206\n6215\n6229\n6232\n6231\n6241\n6262\n6263\n6269\n6270\n6271\n6278\n6285\n6287\n6288\n6289\n6294\n6298\n6299\n6312\n6317\n6323\n6317\n6318\n6317\n6319\n6323\n6322\n6321\n6325\n6329\n6348\n6371\n6368\n6355\n6332\n6333\n6342\n6347\n6351\n6359\n6346\n6334\n6331\n6334\n6355\n6364\n6365\n6386\n6391\n6396\n6370\n6393\n6395\n6396\n6399\n6403\n6411\n6410\n6417\n6428\n6429\n6450\n6426\n6428\n6429\n6436\n6437\n6438\n6464\n6471\n6475\n6476\n6483\n6489\n6490\n6494\n6490\n6500\n6501\n6508\n6516\n6519\n6520\n6521\n6524\n6534\n6541\n6547\n6549\n6555\n6556\n6566\n6568\n6572\n6586\n6587\n6590\n6600\n6605\n6607\n6609\n6606\n6605\n6606\n6616\n6630\n6640\n6625\n6624\n6608\n6618\n6623\n6627\n6625\n6646\n6654\n6655\n6656\n6659\n6655\n6656\n6663\n6658\n6659\n6657\n6666\n6667\n6670\n6671\n6682\n6662\n6663\n6664\n6682\n6692\n6690\n6704\n6705\n6712\n6715\n6719\n6726\n6727\n6730\n6728\n6748\n6759\n6772\n6773\n6771\n6773\n6775\n6766\n6772\n6784\n6787\n6789\n6792\n6795\n6797\n6799\n6789\n6790\n6798\n6800\n6804\n6803\n6804\n6797\n6808\n6814\n6816\n6819\n6822\n6833\n6829\n6830\n6837\n6839\n6840\n6842\n6843\n6849\n6851\n6853\n6837\n6843\n6844\n6849\n6856\n6858\n6859\n6857\n6860\n6862\n6864\n6863\n6865\n6870\n6869\n6849\n6850\n6855\n6860\n6856\n6857\n6867\n6872\n6874\n6876\n6866\n6868\n6877\n6881\n6882\n6883\n6893\n6895\n6896\n6897\n6910\n6903\n6904\n6909\n6910\n6932\n6930\n6932\n6944\n6946\n6966\n6971\n6972\n6973\n7000\n7009\n7011\n7010\n7021\n7018\n7017\n7014\n7018\n7017\n7020\n7024\n7027\n7028\n7030\n7031\n7037\n7047\n7056\n7059\n7061\n7047\n7074\n7077\n7078\n7087\n7116\n7117\n7127\n7125\n7101\n7106\n7112\n7113\n7125\n7126\n7129\n7130\n7133\n7137\n7138\n7156\n7158\n7159\n7158\n7159\n7160\n7161\n7163\n7169\n7172\n7195\n7196\n7197\n7199\n7206\n7218\n7219\n7222\n7227\n7239\n7252\n7256\n7257\n7249\n7250\n7256\n7263\n7267\n7268\n7279\n7287\n7290\n7269\n7268\n7274\n7278\n7274\n7282\n7294\n7295\n7300\n7299\n7305\n7297\n7300\n7301\n7328\n7360\n7376\n7365\n7359\n7362\n7364\n7373\n7390\n7398\n7399\n7407\n7402\n7401\n7409\n7411\n7416\n7408\n7405\n7408\n7410\n7414\n7415\n7418\n7422\n7428\n7441\n7442\n7445\n7454\n7458\n7460\n7458\n7467\n7470\n7501\n7500\n7501\n7509\n7521\n7522\n7523\n7537\n7540\n7541\n7551\n7553\n7554\n7564\n7565\n7567\n7563\n7564\n7580\n7603\n7604\n7613\n7614\n7616\n7627\n7621\n7630\n7631\n7641\n7642\n7652\n7647\n7646\n7666\n7690\n7693\n7691\n7693\n7699\n7705\n7682\n7701\n7703\n7702\n7710\n7709\n7711\n7714\n7713\n7718\n7727\n7753\n7756\n7764\n7782\n7788\n7787\n7793\n7794\n7795\n7767\n7771\n7776\n7787\n7791\n7789\n7790\n7805\n7804\n7806\n7814\n7815\n7816\n7830\n7832\n7831\n7830\n7859\n7878\n7894\n7896\n7906\n7927\n7928\n7929\n7924\n7929\n7933\n7934\n7935\n7946\n7948\n7950\n7951\n7973\n7975\n7976\n7975\n7974\n7982\n7964\n7977\n7967\n7975\n7973\n7981\n7999\n8010\n8017\n8020\n8021\n8030\n8055\n8061\n8069\n8071\n8072\n8073\n8082\n8083\n8096\n8116\n8122\n8133\n8134\n8128\n8136\n8115\n8122\n8120\n8126\n8127\n8134\n8157\n8158\n8160\n8164\n8165\n8179\n8180\n8186\n8195\n8205\n8200\n8197\n8198\n8199\n8187\n8193\n8202\n8214\n8225\n8224\n8245\n8235\n8243\n8244\n8249\n8250\n8259\n8264\n8265\n8273\n8269\n8273\n8276\n8278\n8283\n8284\n8280\n8294\n8295\n8296\n8299\n8300\n8301\n8302\n8303\n8305\n8306\n8310\n8324\n8326\n8328\n8335\n8342\n8344\n8338\n8341\n8342\n8348\n8349\n8351\n8347\n8355\n8356\n8357\n8361\n8364\n8365\n8372\n8377\n8392\n8388\n8387\n8388\n8394\n8396\n8407\n8411\n8426\n8427\n8426\n8427\n8430\n8432\n8435\n8436\n8437\n8433\n8428\n8430\n8431\n8441\n8442\n8444\n8441\n8460\n8464\n8466\n8459\n8481\n8486\n8489\n8462\n8461\n8478\n8484\n8483\n8487\n8488\n8489\n8513\n8517\n8518\n8520\n8534\n8537\n8538\n8542\n8546\n8559\n8564\n8569\n8582\n8580\n8582\n8581\n8586\n8599\n8605\n8606\n8593\n8595\n8600\n8603\n8608\n8624\n8632\n8635\n8640\n8641\n8642\n8643\n8662\n8664\n8674\n8684\n8685\n8684\n8692\n8696\n8701\n8710\n8691\n8673\n8674\n8677\n8675\n8674\n8669\n8671\n8670\n8675\n8678\n8693\n8697\n8701\n8702\n8705\n8713\n8715\n8720\n8734\n8741\n8750\n8753\n8755"} -->

```elixir
defmodule Input do
  def read_textarea_into(arr \\ []) do
    input = IO.gets("Problem Input")

    if input == :eof do
      arr
    else
      read_textarea_into(arr ++ [input])
    end
  end
end

input_arr =
  Input.read_textarea_into()
  |> Enum.map(&String.trim/1)
  |> Enum.map(&Integer.parse/1)
  |> Enum.map(&elem(&1, 0))
```

```output
[178, 205, 212, 210, 215, 220, 223, 224, 230, 232, 235, 225, 226, 227, 238, 248, 249, 251, 252, 261,
 273, 283, 284, 286, 296, 297, 303, 317, 320, 333, 370, 339, 342, 345, 325, 323, 334, 325, 326, 327,
 333, 329, 337, 340, 363, 353, 341, 344, 345, 364, ...]
```

## Problem 01

### Calculate the number of times the depth was less than the previous one

1. Chunk the input into tuples, eg:

   **Input**

   ```elixir
   [1, 2, 3, ...]
   ```

   **Output**

   ```elixir
   [{1, 2}, {2, 3}, {3, ...}, ...]
   ```

```elixir
defmodule SonarSweep01 do
  def chunk_input(arr, chunked_arr \\ [])
  def chunk_input([], chunked_arr), do: chunked_arr
  def chunk_input([_], chunked_arr), do: chunked_arr

  def chunk_input([first | [second | _] = next], chunked_arr) do
    chunk_input(next, chunked_arr ++ [{first, second}])
  end

  defp calculate_single({first, last}) when last > first, do: 1
  defp calculate_single(_), do: 0

  def calculate(arr, acc \\ 0)
  def calculate([], acc), do: acc

  def calculate([head | tail], acc) do
    result = calculate_single(head)
    calculate(tail, acc + result)
  end
end

SonarSweep01.chunk_input(input_arr)
|> SonarSweep01.calculate()
```

```output
1676
```

## Problem 02

### Calculate the three-measurement sliding window and then check using the previous algo

1. Preprocess the input to calculate a three-measurement sliding window
2. Run the same pipeline as `problem 01` on the output

```elixir
defmodule SonarSweep02 do
  def preprocess_input(arr, acc \\ [])
  def preprocess_input([], acc), do: acc
  def preprocess_input([_], acc), do: acc
  def preprocess_input([_, _], acc), do: acc

  def preprocess_input([a | [b, c | _] = next], acc) do
    preprocess_input(next, acc ++ [a + b + c])
  end
end

SonarSweep02.preprocess_input(input_arr)
|> SonarSweep01.chunk_input()
|> SonarSweep01.calculate()
```

```output
1706
```
