<!-- livebook:{"persist_outputs":true} -->

# Day 02

## Input

<!-- livebook:{"livebook_object":"cell_input","name":"Problem Input","type":"textarea","value":"forward 6\ndown 8\ndown 5\ndown 9\nforward 2\ndown 5\ndown 5\nforward 1\nforward 7\ndown 8\nup 2\ndown 4\nup 8\ndown 8\nforward 3\nforward 4\ndown 1\nforward 5\nup 7\ndown 7\ndown 8\nforward 2\nup 3\nforward 1\nforward 6\nforward 9\nforward 7\nforward 8\nforward 2\nforward 3\nup 2\nup 8\ndown 1\nforward 7\ndown 7\ndown 2\nforward 6\ndown 1\nforward 5\ndown 3\nforward 6\ndown 7\nup 1\nup 3\nforward 7\nforward 6\nforward 8\ndown 4\ndown 2\nup 5\ndown 2\nforward 2\nup 5\nforward 6\ndown 3\ndown 1\ndown 5\nforward 6\nup 6\ndown 7\ndown 8\ndown 2\nforward 3\ndown 5\ndown 4\nforward 7\nforward 9\nup 9\nup 8\nup 4\nforward 8\nforward 5\ndown 4\nup 2\nforward 9\nup 5\ndown 5\nup 9\nforward 2\nforward 3\ndown 6\ndown 8\nforward 8\nup 5\ndown 5\nforward 7\nforward 6\nforward 8\nup 3\nforward 3\nforward 1\nup 8\ndown 8\ndown 2\ndown 4\nup 7\nup 2\nup 9\nup 4\nforward 6\ndown 8\ndown 1\nforward 6\nforward 6\ndown 4\ndown 2\nup 7\ndown 9\ndown 9\nup 2\nup 7\ndown 4\ndown 2\nforward 1\ndown 1\nup 5\nup 5\nforward 9\nup 3\ndown 7\nforward 7\ndown 4\ndown 8\nup 1\ndown 4\ndown 7\nforward 5\nup 9\nforward 5\nforward 1\nforward 8\nforward 6\nforward 5\nforward 1\ndown 4\ndown 6\nforward 5\nforward 2\nforward 3\ndown 1\nup 2\nup 9\nforward 4\nup 8\ndown 7\ndown 8\nup 7\ndown 2\nforward 7\nup 1\nforward 5\nforward 1\nforward 8\nforward 1\nup 8\ndown 6\ndown 7\nforward 2\ndown 8\ndown 8\nforward 8\nup 8\ndown 6\ndown 7\ndown 4\ndown 7\nforward 6\nup 3\nforward 3\ndown 2\ndown 8\ndown 3\ndown 9\nforward 9\nforward 7\ndown 6\ndown 4\nforward 6\ndown 2\ndown 7\nup 7\nup 8\nforward 2\nforward 8\ndown 3\nup 2\nforward 9\ndown 2\nup 3\ndown 1\ndown 1\ndown 4\ndown 8\nup 2\nup 8\nforward 2\nforward 1\nup 1\nforward 7\ndown 8\ndown 1\ndown 7\nup 3\ndown 3\nforward 8\nforward 2\nforward 7\ndown 2\nup 9\nup 3\nup 5\ndown 4\nup 3\nforward 4\nup 5\ndown 9\ndown 9\nforward 2\nforward 2\ndown 2\ndown 8\ndown 3\ndown 5\nforward 6\ndown 6\nup 5\ndown 2\ndown 4\ndown 9\ndown 3\nforward 7\ndown 1\nforward 1\ndown 4\nup 1\ndown 9\nforward 5\nup 2\ndown 3\nforward 8\nforward 9\nup 9\ndown 2\nforward 8\ndown 4\ndown 5\nforward 6\nforward 5\nforward 4\ndown 6\ndown 9\ndown 2\nforward 9\ndown 4\nup 8\nup 9\nup 2\nup 5\nup 5\nforward 9\nup 1\nforward 6\nforward 7\nforward 8\nforward 9\nup 2\nforward 3\nforward 4\nforward 6\nforward 9\nup 5\nup 5\ndown 3\nforward 1\nforward 3\nforward 2\nforward 3\nforward 6\nforward 7\ndown 4\ndown 2\ndown 1\nforward 2\ndown 5\nforward 3\nforward 6\ndown 8\ndown 9\nforward 4\nforward 6\ndown 6\ndown 6\nforward 3\ndown 6\ndown 8\ndown 1\nforward 7\nforward 9\ndown 2\ndown 5\nforward 1\nforward 3\ndown 2\nforward 1\ndown 8\ndown 1\nforward 4\ndown 8\nforward 5\nforward 1\ndown 7\ndown 7\nforward 3\nforward 1\nforward 6\nforward 7\nforward 5\nup 1\nforward 2\ndown 9\nforward 3\nup 1\nforward 2\ndown 1\ndown 6\ndown 3\nforward 7\ndown 5\ndown 4\ndown 1\nforward 9\nforward 9\ndown 5\nforward 7\nforward 3\nforward 5\ndown 1\nforward 6\ndown 8\nup 2\nforward 6\ndown 3\nforward 2\nforward 9\nforward 4\ndown 1\ndown 3\nforward 9\nforward 3\nforward 8\nforward 9\nup 3\nup 1\nforward 1\nforward 2\ndown 8\ndown 9\ndown 2\ndown 1\ndown 3\ndown 2\nforward 9\nforward 7\ndown 5\nforward 1\nforward 6\nforward 3\nforward 9\ndown 2\nforward 8\ndown 5\ndown 1\nforward 5\nforward 3\ndown 6\nforward 6\ndown 8\nforward 2\nup 5\nforward 1\ndown 2\ndown 6\nforward 9\nforward 7\ndown 1\ndown 3\ndown 6\nup 3\ndown 4\nforward 8\nforward 1\nforward 7\ndown 2\ndown 5\ndown 9\nforward 6\ndown 5\nforward 5\nup 1\ndown 5\nforward 8\nup 9\nforward 2\ndown 6\nforward 2\nforward 7\nup 2\ndown 9\ndown 7\nup 7\ndown 6\nup 5\nforward 1\ndown 8\nforward 8\nforward 1\nforward 7\ndown 9\ndown 6\nforward 3\ndown 6\ndown 1\ndown 1\ndown 1\ndown 3\ndown 7\ndown 7\ndown 3\ndown 5\nforward 4\ndown 4\nforward 7\nforward 5\ndown 9\ndown 9\nforward 7\ndown 3\ndown 9\ndown 4\nforward 3\ndown 7\ndown 2\nforward 2\ndown 6\nforward 9\nforward 9\nforward 5\nup 4\ndown 7\ndown 2\nup 9\nup 4\nforward 8\nforward 1\ndown 8\nup 5\ndown 4\ndown 3\nforward 2\ndown 7\ndown 2\ndown 1\ndown 9\nforward 7\nforward 7\nup 8\nup 4\ndown 3\ndown 8\nforward 6\nforward 5\nforward 5\nforward 5\ndown 3\ndown 8\nforward 4\nforward 7\nforward 1\nup 3\nup 9\ndown 6\nup 4\ndown 7\nforward 8\nforward 4\nforward 3\nup 8\nup 3\ndown 3\nforward 6\ndown 2\nforward 7\nforward 4\nforward 8\ndown 3\ndown 9\ndown 9\ndown 2\nforward 8\nup 4\ndown 3\nforward 8\nforward 5\nforward 7\ndown 6\nup 9\nforward 3\ndown 2\nforward 5\nforward 2\ndown 7\nforward 6\nforward 2\nup 9\ndown 1\ndown 1\nforward 4\nup 1\nforward 9\ndown 3\ndown 4\ndown 2\nforward 3\nforward 3\nforward 3\nup 7\nup 8\ndown 5\nforward 1\nforward 7\nup 9\nup 3\ndown 3\ndown 8\nforward 6\nup 5\nup 5\nforward 4\ndown 2\ndown 8\ndown 1\nforward 6\ndown 3\nforward 3\nforward 6\nforward 1\nup 3\nup 1\ndown 5\ndown 2\ndown 7\ndown 1\nforward 9\ndown 4\ndown 8\nforward 9\nforward 7\nforward 8\ndown 1\ndown 2\nup 7\ndown 5\ndown 2\ndown 1\nup 4\nup 8\nup 7\ndown 4\nforward 3\ndown 2\ndown 2\nforward 5\nforward 4\ndown 8\nup 4\nforward 4\nup 1\ndown 3\ndown 9\ndown 9\ndown 3\nup 8\nforward 1\nforward 6\ndown 6\ndown 2\nforward 8\ndown 3\nforward 8\nforward 2\nforward 9\nup 3\nforward 6\ndown 5\nforward 6\nforward 2\nup 7\ndown 9\nforward 2\nup 2\nforward 7\ndown 1\ndown 5\ndown 6\nforward 8\ndown 6\nforward 4\nforward 1\nforward 3\nforward 4\nup 4\nforward 4\ndown 4\nforward 2\nforward 5\nforward 2\nforward 5\ndown 9\nup 2\nup 1\ndown 2\nup 4\nup 5\nforward 2\ndown 3\ndown 9\nforward 3\ndown 8\ndown 9\nforward 5\ndown 3\nforward 5\ndown 3\nup 8\nforward 7\nforward 1\ndown 2\ndown 7\nforward 3\ndown 8\nforward 9\ndown 4\ndown 1\ndown 7\ndown 4\nup 5\nforward 1\ndown 4\nforward 1\nforward 8\nup 1\nup 5\nup 2\nup 2\ndown 4\ndown 7\nforward 2\ndown 8\nup 8\ndown 9\ndown 3\ndown 6\ndown 3\ndown 1\nforward 7\nup 8\nforward 5\nup 5\ndown 8\ndown 1\ndown 8\ndown 6\ndown 5\nforward 2\nup 5\ndown 6\nforward 9\nup 6\ndown 5\ndown 7\nup 9\ndown 1\nforward 4\nup 6\nforward 2\ndown 5\ndown 5\nforward 2\nup 6\nforward 1\ndown 8\nforward 4\nup 8\ndown 3\nforward 8\ndown 8\nforward 5\ndown 6\ndown 3\nforward 1\ndown 4\ndown 8\nup 1\ndown 1\ndown 2\nup 9\nforward 2\nforward 3\ndown 7\ndown 2\nforward 7\nup 8\ndown 2\ndown 8\ndown 9\nup 1\ndown 5\ndown 5\ndown 4\ndown 8\ndown 9\nup 5\nforward 2\ndown 4\ndown 3\ndown 2\nforward 5\nforward 8\ndown 8\ndown 1\nforward 9\ndown 5\nforward 5\ndown 2\nup 3\nup 9\ndown 1\ndown 9\nforward 7\nup 7\nforward 3\nup 6\nforward 8\ndown 2\ndown 1\ndown 7\nforward 5\ndown 8\ndown 4\nforward 7\nforward 4\ndown 6\nforward 9\ndown 3\nforward 2\ndown 3\ndown 1\ndown 1\nup 1\nup 3\ndown 6\nforward 3\nup 9\ndown 4\nup 2\ndown 3\nup 1\ndown 8\ndown 5\nforward 7\nforward 2\nforward 9\ndown 8\ndown 5\ndown 6\nup 3\nforward 2\nup 8\ndown 4\nforward 7\ndown 8\ndown 6\ndown 4\nforward 7\nup 9\ndown 4\nforward 2\nforward 5\ndown 3\nup 6\nup 6\ndown 2\ndown 4\nforward 8\nforward 5\nforward 3\nforward 5\ndown 5\ndown 5\ndown 6\nforward 3\nforward 7\nforward 1\ndown 8\ndown 5\nforward 7\nup 7\ndown 9\ndown 9\ndown 9\nup 6\ndown 2\ndown 3\nforward 1\nup 7\nup 8\nforward 5\ndown 1\ndown 3\ndown 3\nforward 5\ndown 7\ndown 1\nup 2\ndown 2\ndown 3\nforward 7\ndown 9\nforward 6\ndown 5\nforward 2\ndown 5\nforward 6\nup 3\ndown 8\nup 2\nforward 5\nforward 1\nforward 5\nforward 8\nforward 6\nforward 9\nforward 6\nup 6\nup 5\ndown 8\ndown 3\ndown 5\ndown 2\nforward 9\nforward 8\ndown 1\nup 1\nup 6\ndown 6\nforward 4\ndown 3\nforward 6\nforward 1\nup 5\ndown 6\nup 9\ndown 7\ndown 2\ndown 9\ndown 5\nforward 5\nup 2\nforward 8\ndown 2\ndown 8\nforward 6\ndown 4\nforward 8\ndown 7\ndown 8\ndown 1\nforward 3\ndown 6\ndown 9\ndown 3\nforward 3\ndown 8\nforward 8\ndown 7\nforward 6\nforward 8\ndown 8\nup 7\ndown 1\nforward 2\nforward 3\ndown 5\nup 8\ndown 3\ndown 4\ndown 7\nforward 9\nforward 7\nforward 1\ndown 3\nforward 9\ndown 8\nforward 2\ndown 2\ndown 9\ndown 4\ndown 3\nup 6\nup 9\ndown 3\ndown 2\nforward 5\ndown 3\ndown 2\ndown 8\nforward 6\nforward 5\nup 4\nforward 9\nforward 8\nforward 9\ndown 2\nforward 2\nup 6\nforward 1\ndown 5\nforward 2\ndown 8\nup 2\nup 3\ndown 3\nup 2\nup 1\nup 5\nforward 1\nforward 2\ndown 8\nup 3\ndown 9\nforward 7\nup 5\ndown 4\ndown 4\nup 3\nforward 2\nup 5\ndown 4\ndown 4\nup 5\nforward 8\ndown 8\ndown 6\nforward 7\ndown 1\ndown 3\ndown 1\nforward 3\ndown 5\ndown 3\nforward 3\nup 2\nforward 2\ndown 9\nup 8\nforward 8\nup 8\nforward 1\nforward 9\nforward 3\ndown 8\ndown 3\nforward 8\nforward 4\ndown 2\nforward 2\ndown 2\ndown 5\ndown 7\ndown 5\nforward 8\nup 3\nforward 1\ndown 1\nforward 3\ndown 9\nforward 2\nforward 2\nforward 7\ndown 7\ndown 2\nforward 9\nup 5\nup 7\nforward 8\nforward 1\ndown 7\ndown 8\ndown 3\nforward 6"} -->

```elixir
defmodule Input do
  def read_textarea_into(arr \\ []) do
    input = IO.gets("Problem Input")

    if input == :eof,
      do: arr,
      else: read_textarea_into(arr ++ [String.trim(input)])
  end

  defp parse_num(num),
    do:
      num
      |> Integer.parse()
      |> elem(0)

  def parse_line("forward " <> num), do: {:forward, parse_num(num)}
  def parse_line("down " <> num), do: {:down, parse_num(num)}
  def parse_line("up " <> num), do: {:up, parse_num(num)}
end

input_arr =
  Input.read_textarea_into()
  |> Enum.map(&Input.parse_line/1)
```

```output
[
  forward: 6,
  down: 8,
  down: 5,
  down: 9,
  forward: 2,
  down: 5,
  down: 5,
  forward: 1,
  forward: 7,
  down: 8,
  up: 2,
  down: 4,
  up: 8,
  down: 8,
  forward: 3,
  forward: 4,
  down: 1,
  forward: 5,
  up: 7,
  down: 7,
  down: 8,
  forward: 2,
  up: 3,
  forward: 1,
  forward: 6,
  forward: 9,
  forward: 7,
  forward: 8,
  forward: 2,
  forward: 3,
  up: 2,
  up: 8,
  down: 1,
  forward: 7,
  down: 7,
  down: 2,
  forward: 6,
  down: 1,
  forward: 5,
  down: 3,
  forward: 6,
  down: 7,
  up: 1,
  up: 3,
  forward: 7,
  forward: 6,
  forward: 8,
  down: 4,
  down: 2,
  up: 5,
  ...
]
```

## Problem 01

```elixir
defmodule PositionCalc01 do
  defp calculate_position(x, y, {:forward, n}), do: {x + n, y}
  defp calculate_position(x, y, {:up, n}), do: {x, y - n}
  defp calculate_position(x, y, {:down, n}), do: {x, y + n}

  def calc(arr, x \\ 0, y \\ 0)
  def calc([], x, y), do: {x, y}

  def calc([head | tail], x, y) do
    {x, y} = calculate_position(x, y, head)
    calc(tail, x, y)
  end
end

{x, y} =
  input_arr
  |> PositionCalc01.calc()
```

```output
{1890, 1172}
```

### Output

```elixir
x * y
```

```output
2215080
```

## Problem 02

```elixir
defmodule PositionCalc02 do
  defp calculate_position(x, y, aim, {:forward, n}), do: {x + n, y + aim * n, aim}
  defp calculate_position(x, y, aim, {:up, n}), do: {x, y, aim - n}
  defp calculate_position(x, y, aim, {:down, n}), do: {x, y, aim + n}

  def calc(arr, x \\ 0, y \\ 0, aim \\ 0)
  def calc([], x, y, aim), do: {x, y, aim}

  def calc([head | tail], x, y, aim) do
    {x, y, aim} = calculate_position(x, y, aim, head)
    calc(tail, x, y, aim)
  end
end

{x, y, aim} =
  input_arr
  |> PositionCalc02.calc()
```

```output
{1890, 986622, 1172}
```

### Output

```elixir
x * y
```

```output
1864715580
```
